@using DevExtreme.AspNet.Mvc

@{
    ViewBag.Title = "Điểm rèn luyện";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}


@(Html.DevExtreme().DataGrid()
      .Columns(columns =>
      {
          columns.Add()
             .DataField("SinhVien.MaSv")
             .Caption("Mã Sinh Viên")
             .AllowEditing(false)
             .AllowFiltering(false);
          columns.Add()
              .DataField("SinhVien.TenDayDu")
              .Caption("Họ Tên")
              .AllowEditing(false)
              .AllowFiltering(false);
          columns.Add()
              .DataField("SinhVien.Khoa.Ten")
              .Caption("Khoa")
              .AllowEditing(false);
          columns.Add()
              .DataField("SinhVien.Lop.Ten")
              .Caption("Lớp")
              .AllowEditing(false);
          columns.Add()
              .DataField("Hk1")
              .Caption("Kì 1")
              .AllowFiltering(false)
              .ValidationRules(x => x.AddRange().Min(0).Max(100).Message("Điểm không hợp lệ"));
          columns.Add()
              .DataField("Hk2")
              .Caption("Kì 2")
              .AllowFiltering(false)
              .ValidationRules(x => x.AddRange().Min(0).Max(100).Message("Điểm không hợp lệ"));
          columns.Add()
              .DataField("Hk3")
              .Caption("Kì 3")
              .AllowFiltering(false)
              .ValidationRules(x => x.AddRange().Min(0).Max(100).Message("Điểm không hợp lệ"));
          columns.Add()
              .DataField("Hk4")
              .Caption("Kì 4")
              .AllowFiltering(false)
              .ValidationRules(x => x.AddRange().Min(0).Max(100).Message("Điểm không hợp lệ"));
          columns.Add()
              .DataField("Hk5")
              .Caption("Kì 5")
              .AllowFiltering(false)
              .ValidationRules(x => x.AddRange().Min(0).Max(100).Message("Điểm không hợp lệ"));
          columns.Add()
              .DataField("Hk6")
              .Caption("Kì 6")
              .AllowFiltering(false)
              .ValidationRules(x => x.AddRange().Min(0).Max(100).Message("Điểm không hợp lệ"));
          columns.Add()
              .DataField("Hk7")
              .Caption("Kì 7")
              .AllowFiltering(false)
              .ValidationRules(x => x.AddRange().Min(0).Max(100).Message("Điểm không hợp lệ"));
          columns.Add()
              .DataField("Hk8")
              .Caption("Kì 8")
              .AllowFiltering(false)
              .ValidationRules(x => x.AddRange().Min(0).Max(100).Message("Điểm không hợp lệ"));
          columns.Add()
              .DataField("Hk9")
              .Caption("Kì 9")
              .AllowFiltering(false)
              .ValidationRules(x => x.AddRange().Min(0).Max(100).Message("Điểm không hợp lệ"));
          columns.Add()
              .DataField("Hk10")
              .Caption("Kì 10")
              .AllowFiltering(false)
              .ValidationRules(x => x.AddRange().Min(0).Max(100).Message("Điểm không hợp lệ"));
      })
      .HeaderFilter(headerFilter => headerFilter.Visible(true))
      .Paging(paging => paging.PageSize(5))
      .Pager(pager =>
      {
          pager.ShowInfo(true);
          pager.InfoText("Trang {0}({1} trang)");
      })
      .DataSource(d => d.WebApi().Controller("DiemRenLuyenApi").Key("Id"))
      .ShowBorders(true)
      .Editing(editing =>
      {
          editing.Mode(GridEditMode.Batch);
          editing.AllowUpdating(true);
          editing.Texts(t =>
          {
              t.AddRow("Thêm mới");
              t.EditRow("Sửa");
              t.DeleteRow("Xóa");
              t.CancelAllChanges("Hủy bỏ thay đổi");
              t.CancelRowChanges("Hủy bỏ");
              t.ConfirmDeleteMessage("Bạn có muốn xóa không?");
              t.SaveAllChanges("Lưu thay đổi");
              t.SaveRowChanges("Xác nhận");
          });
      })
      .ColumnAutoWidth(true)
      .ColumnChooser(c =>
      {
          c.Enabled(true);
          c.Title("Chọn cột hiển thị");
          c.EmptyPanelText("Kéo cột vào để ẩn đi");
      })
      )